def f = <a|> [X1, X2, X3, X4 | Y]
    use >< [X1, X2 | Y] as Join1
    use >< [X1, X2 | Y] as Join2
    use >< [X1, X2 | Y] as Join3
    use -a [X | Y] as RemoveA
    link
    X1 >-> Join1.X1,
    X2 >-> Join1.X2,
    X3 >-> Join2.X1,
    X4 >-> Join2.X2,
    Join1.Y >-> Join3.X1,
    Join2.Y >-> Join3.X2,
    Join3.Y >-> RemoveA.X,
    RemoveA.Y >-> Y