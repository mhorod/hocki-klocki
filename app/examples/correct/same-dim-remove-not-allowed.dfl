
def distinct_by_remove = <a, b |> [X | Y]
    use -a [X | Y] as RemA
    use -b [X | Y] as RemB
    link
        X >-> RemA.X
        RemA.Y >-> RemB.X
        RemB.Y >-> Y

def main = <a|> [X | Y]
    use distinct_by_remove <a, a|> [X | Y] as S
    link
        X >-> S.X
        S.Y >-> Y